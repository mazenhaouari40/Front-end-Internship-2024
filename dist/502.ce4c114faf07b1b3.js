"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[502],{4502:(P,g,r)=>{r.r(g),r.d(g,{ValidationAbsenceComponent:()=>O});var u=r(1626),c=r(4341),d=r(904),_=r(2389),l=r(4322),n=r(3953),f=r(34),b=r(5794),a=r(177),m=r(5639);function C(s,p){if(1&s&&n.nrm(0,"app-spinner",6),2&s){const t=n.XpG();n.Y8G("backgroundColor","#1890ff")("spinner",t.Spinkit.skLine)}}function M(s,p){if(1&s){const t=n.RV6();n.j41(0,"div",7)(1,"figure",8)(2,"figcaption"),n.nrm(3,"img",9),n.j41(4,"h4"),n.EFF(5),n.k0s(),n.j41(6,"p")(7,"span",10),n.EFF(8,"Type:"),n.k0s(),n.j41(9,"span",11),n.EFF(10),n.k0s()(),n.j41(11,"p")(12,"span",10),n.EFF(13,"D\xe9but:"),n.k0s(),n.j41(14,"span",11),n.EFF(15),n.nI1(16,"date"),n.k0s()(),n.j41(17,"p")(18,"span",10),n.EFF(19,"Fin:"),n.k0s(),n.j41(20,"span",11),n.EFF(21),n.nI1(22,"date"),n.k0s()(),n.j41(23,"form",12),n.bIt("ngSubmit",function(){const o=n.eBV(t).$implicit,i=n.XpG();return n.Njj(i.onSubmit(o.id_absence))}),n.j41(24,"div",13)(25,"button",14),n.bIt("click",function(){const o=n.eBV(t).$implicit,i=n.XpG();return n.Njj(i.submitWithStatus("Accepte",o.id_absence))}),n.EFF(26," Accepte "),n.k0s(),n.j41(27,"button",15),n.bIt("click",function(){const o=n.eBV(t).$implicit,i=n.XpG();return n.Njj(i.submitWithStatus("Refus\xe9",o.id_absence))}),n.EFF(28," Refus\xe9 "),n.k0s()()()()()()}if(2&s){const t=p.$implicit,e=n.XpG();n.R7$(3),n.Y8G("src","data:image/png;base64,"+t.user.imageencode_64bits,n.B4B),n.R7$(2),n.JRh(t.user.nom),n.R7$(5),n.JRh(t.type),n.R7$(5),n.JRh(n.i5U(16,6,t.debut_d,"yyyy-MM-dd")),n.R7$(6),n.JRh(n.i5U(22,9,t.fin_d,"yyyy-MM-dd")),n.R7$(2),n.Y8G("formGroup",e.absenseform)}}let O=(()=>{class s{constructor(t,e,o,i){this.service=t,this.fb=e,this.route=o,this.toastr=i,this.absences=[],this.isLoading=!1,this.Spinkit=l.N,this.absenseform=this.fb.group({status:["",c.k0.required]})}ngOnInit(){const t=localStorage.getItem("user");let e=JSON.parse(t);this.isLoading=!0,this.service.getabsencebymanager(e.id).subscribe(o=>{this.absences=o,this.isLoading=!1})}submitWithStatus(t,e){this.absenseform.patchValue({status:t}),this.onSubmit(e)}onSubmit(t){if(console.log(`Submitting absence with ID: ${t} and status: ${this.absenseform.value.status}`),this.absenseform.valid){const o={status:this.absenseform.get("status")?.value};console.log(o),this.service.UpdateStatus(t,o).subscribe(i=>{this.toastr.success("Status Updated successfully")},i=>{this.toastr.error(i)})}else console.log("Form is invalid")}static#n=this.\u0275fac=function(e){return new(e||s)(n.rXU(d.N),n.rXU(c.ok),n.rXU(f.nX),n.rXU(b.tw))};static#t=this.\u0275cmp=n.VBU({type:s,selectors:[["app-validation-absence"]],standalone:!0,features:[n.Jv_([d.N,u.Qq]),n.aNF],decls:10,vars:2,consts:[[3,"backgroundColor","spinner",4,"ngIf"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],[1,"container","page-container"],[1,"row","gutters"],["class","col-xl-3 col-lg-3 col-md-3 col-sm-4 col-12",4,"ngFor","ngForOf"],[3,"backgroundColor","spinner"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-4","col-12"],[1,"user-card","green"],["alt","Soeng Souy",1,"profile",3,"src"],[1,"attribute"],[1,"value"],[3,"ngSubmit","formGroup"],[1,"button-container"],["type","button",1,"submit-button","accepte-button",3,"click"],["type","button",1,"submit-button","refuse-button",3,"click"]],template:function(e,o){1&e&&(n.DNE(0,C,1,2,"app-spinner",0),n.j41(1,"head"),n.nrm(2,"meta",1),n.j41(3,"title"),n.EFF(4,"bs4 Contacts cards"),n.k0s(),n.nrm(5,"meta",2),n.k0s(),n.j41(6,"body")(7,"div",3)(8,"div",4),n.DNE(9,M,29,12,"div",5),n.k0s()()()),2&e&&(n.Y8G("ngIf",o.isLoading),n.R7$(9),n.Y8G("ngForOf",o.absences))},dependencies:[_.G,a.Sq,a.bT,c.qT,c.cb,c.j4,m.t,a.vh,u.q1,c.X1,c.YN],styles:['@charset "UTF-8";.card-content[_ngcontent-%COMP%]{position:relative;padding:15px}.line-container[_ngcontent-%COMP%]{margin-bottom:10px}.white-line[_ngcontent-%COMP%]{height:2px;background-color:#fff}.image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:10px}.card-image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}body[_ngcontent-%COMP%]{background:#eee}.page-container[_ngcontent-%COMP%]{margin-top:40px}figure.user-card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-top:3px solid #f2f2f2;border:1px solid #e1e5f1;text-align:center}figure.user-card.red[_ngcontent-%COMP%]{border-top:3px solid #fc6d4c}figure.user-card.green[_ngcontent-%COMP%]{border-top:3px solid #2c3835}figure.user-card.blue[_ngcontent-%COMP%]{border-top:3px solid #5a99ee}figure.user-card.yellow[_ngcontent-%COMP%]{border-top:3px solid #ffc139}figure.user-card.orange[_ngcontent-%COMP%]{border-top:3px solid #ff5000}figure.user-card.teal[_ngcontent-%COMP%]{border-top:3px solid #47BCC7}figure.user-card.pink[_ngcontent-%COMP%]{border-top:3px solid #ff9fd0}figure.user-card.brown[_ngcontent-%COMP%]{border-top:3px solid #79574b}figure.user-card.purple[_ngcontent-%COMP%]{border-top:3px solid #904e95}figure.user-card.fb[_ngcontent-%COMP%]{border-top:3px solid #3B5998}figure.user-card.gp[_ngcontent-%COMP%]{border-top:3px solid #E02F2F}figure.user-card[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{border-radius:5px;max-width:72px;margin-bottom:20px}figure.user-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 5px}figure.user-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 15px;color:#8796af;font-size:14px}figure.user-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;color:#8796af;line-height:150%;font-size:.85rem;text-align:left;padding:5px 0 10px 50px}figure.user-card[_ngcontent-%COMP%]   .attribute[_ngcontent-%COMP%]{font-weight:700;margin-right:10px;padding-left:0}figure.user-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#333}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]{margin:0;padding:0 0 15px;line-height:150%;font-size:.85rem}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.2rem 0}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5a99ee}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{min-width:36px;float:left;font-size:1rem}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]{color:#ff5000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.button-container[_ngcontent-%COMP%]{display:flex;gap:15px;margin-top:20px;margin-left:15px}.submit-button[_ngcontent-%COMP%]{border:none;padding:7px 20px;margin-top:0;font-size:16px;cursor:pointer;border-radius:5px;transition:background-color .3s}.accepte-button[_ngcontent-%COMP%]{background-color:green;color:#fff}.accepte-button[_ngcontent-%COMP%]:hover{background-color:#006400}.refuse-button[_ngcontent-%COMP%]{background-color:red;color:#fff}.refuse-button[_ngcontent-%COMP%]:hover{background-color:#8b0000}']})}return s})()}}]);