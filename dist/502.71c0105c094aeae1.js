"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[502],{4502:(C,a,r)=>{r.r(a),r.d(a,{ValidationAbsenceComponent:()=>m});var d=r(1626),o=r(4341),u=r(904),l=r(2389),n=r(3953),_=r(34),p=r(5794),g=r(177);function f(c,b){if(1&c){const t=n.RV6();n.j41(0,"div",5)(1,"figure",6)(2,"figcaption"),n.nrm(3,"img",7),n.j41(4,"h4"),n.EFF(5),n.k0s(),n.j41(6,"p"),n.EFF(7),n.k0s(),n.j41(8,"p"),n.EFF(9),n.k0s(),n.j41(10,"p"),n.EFF(11),n.nI1(12,"date"),n.k0s(),n.j41(13,"p"),n.EFF(14),n.nI1(15,"date"),n.k0s(),n.j41(16,"form",8),n.bIt("ngSubmit",function(){const s=n.eBV(t).$implicit,i=n.XpG();return n.Njj(i.onSubmit(s.id_absence))}),n.j41(17,"select",9)(18,"option",10),n.EFF(19,"Accepte\t"),n.k0s(),n.j41(20,"option",11),n.EFF(21,"Refus\xe9"),n.k0s()(),n.j41(22,"div",12)(23,"button",13),n.EFF(24,"Submit"),n.k0s()()()()()()}if(2&c){const t=b.$implicit,e=n.XpG();n.R7$(3),n.Y8G("src","data:image/png;base64,"+t.user.imageencode_64bits,n.B4B),n.R7$(2),n.JRh(t.user.nom),n.R7$(2),n.SpI("ID: ",t.id_absence,""),n.R7$(2),n.SpI("Type: ",t.type,""),n.R7$(2),n.SpI("D\xe9but: ",n.i5U(12,8,t.debut_d,"yyyy-MM-dd")," "),n.R7$(3),n.SpI("Fin: ",n.i5U(15,11,t.fin_d,"yyyy-MM-dd"),""),n.R7$(2),n.Y8G("formGroup",e.absenseform),n.R7$(7),n.Y8G("disabled",e.absenseform.invalid)}}let m=(()=>{class c{constructor(t,e,s,i){this.service=t,this.fb=e,this.route=s,this.toastr=i,this.absences=[],this.absenseform=this.fb.group({status:["",o.k0.required]})}ngOnInit(){const t=localStorage.getItem("user");let e=JSON.parse(t);this.service.getabsencebymanager(e.id).subscribe(s=>{this.absences=s})}onSubmit(t){if(this.absenseform.valid){const e={status:this.absenseform.get("status")?.value};console.log(t),console.log(e),this.service.UpdateStatus(t,e).subscribe(s=>{this.toastr.success("Status Updated successfully")},s=>{this.toastr.error(s)})}else console.log("Form is invalid")}static#n=this.\u0275fac=function(e){return new(e||c)(n.rXU(u.N),n.rXU(o.ok),n.rXU(_.nX),n.rXU(p.tw))};static#t=this.\u0275cmp=n.VBU({type:c,selectors:[["app-validation-absence"]],standalone:!0,features:[n.Jv_([u.N,d.Qq]),n.aNF],decls:9,vars:1,consts:[["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],[1,"container","page-container"],[1,"row","gutters"],["class","col-xl-3 col-lg-3 col-md-3 col-sm-4 col-12",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-3","col-md-3","col-sm-4","col-12"],[1,"user-card","green"],["alt","Soeng Souy",1,"profile",3,"src"],[3,"ngSubmit","formGroup"],["id","status","formControlName","status"],["value","Accepte"],["value","Refus\xe9"],[1,"button-container"],["type","submit",1,"submit-button",3,"disabled"]],template:function(e,s){1&e&&(n.j41(0,"head"),n.nrm(1,"meta",0),n.j41(2,"title"),n.EFF(3,"bs4 Contacts cards"),n.k0s(),n.nrm(4,"meta",1),n.k0s(),n.j41(5,"body")(6,"div",2)(7,"div",3),n.DNE(8,f,25,14,"div",4),n.k0s()()()),2&e&&(n.R7$(8),n.Y8G("ngForOf",s.absences))},dependencies:[l.G,g.Sq,o.qT,o.xH,o.y7,o.wz,o.BC,o.cb,o.j4,o.JD,g.vh,d.q1,o.X1,o.YN],styles:["body[_ngcontent-%COMP%]{background:#eee}.page-container[_ngcontent-%COMP%]{margin-top:40px}figure.user-card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-top:3px solid #f2f2f2;border:1px solid #e1e5f1;text-align:center}figure.user-card.red[_ngcontent-%COMP%]{border-top:3px solid #fc6d4c}figure.user-card.green[_ngcontent-%COMP%]{border-top:3px solid #3ecfac}figure.user-card.blue[_ngcontent-%COMP%]{border-top:3px solid #5a99ee}figure.user-card.yellow[_ngcontent-%COMP%]{border-top:3px solid #ffc139}figure.user-card.orange[_ngcontent-%COMP%]{border-top:3px solid #ff5000}figure.user-card.teal[_ngcontent-%COMP%]{border-top:3px solid #47BCC7}figure.user-card.pink[_ngcontent-%COMP%]{border-top:3px solid #ff9fd0}figure.user-card.brown[_ngcontent-%COMP%]{border-top:3px solid #79574b}figure.user-card.purple[_ngcontent-%COMP%]{border-top:3px solid #904e95}figure.user-card.fb[_ngcontent-%COMP%]{border-top:3px solid #3B5998}figure.user-card.gp[_ngcontent-%COMP%]{border-top:3px solid #E02F2F}figure.user-card[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{border-radius:5px;max-width:72px;margin-bottom:20px}figure.user-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 5px}figure.user-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 15px;color:#8796af;font-size:14px}figure.user-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0 0 15px;color:#8796af;line-height:150%;font-size:.85rem}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]{margin:0;padding:0 0 15px;line-height:150%;font-size:.85rem}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.2rem 0}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#5a99ee}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{min-width:36px;float:left;font-size:1rem}figure.user-card[_ngcontent-%COMP%]   ul.contacts[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]{color:#ff5000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.submit-button[_ngcontent-%COMP%]{background-color:green;color:#fff;border:none;padding:7px 40px;margin-top:25px;font-size:16px;cursor:pointer;border-radius:5px;transition:background-color .3s}.submit-button[_ngcontent-%COMP%]:hover{background-color:#006400}"]})}return c})()}}]);